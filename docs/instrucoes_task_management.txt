# INSTRUÃ‡Ã•ES INCREMENTAIS PARA REORGANIZAÃ‡ÃƒO TASK_MANAGEMENT

## ğŸ¯ OBJETIVO PRINCIPAL
Reorganizar gradualmente a estrutura `task_management` extraindo componentes um por vez, sempre mantendo o cÃ³digo funcionando e sem bugs.

## ğŸš¨ REGRAS RÃGIDAS (ZERO TOLERÃ‚NCIA A BUGS)
1. **ANTES DE CADA MUDANÃ‡A**: `flutter analyze --no-pub` (DEVE ter zero erros)
2. **EXTRAIR APENAS 1 COMPONENTE**: Um mÃ©todo/classe por vez
3. **APÃ“S CADA MUDANÃ‡A**: `flutter analyze --no-pub` (DEVE ter zero erros)
4. **SE DER ERRO**: PARAR, corrigir, sÃ³ depois continuar
5. **NUNCA QUEBRAR**: Funcionalidade deve permanecer idÃªntica
6. **VERIFICAR IMPORTS**: Sempre verificar se imports estÃ£o corretos
7. **TESTAR FUNCIONALIDADE**: Interface deve permanecer idÃªntica

## ğŸ“‹ ESTRATÃ‰GIA INCREMENTAL
- âœ… **UMA TAREFA POR VEZ**: Extrair 1 mÃ©todo, testar, depois prÃ³ximo
- âœ… **SEMPRE FUNCIONAL**: CÃ³digo nunca para de funcionar
- âœ… **SEM BRIDGES**: Sem temp_types ou sistemas complexos
- âœ… **EXTRAÃ‡Ã•ES SIMPLES**: Copiar mÃ©todo â†’ criar arquivo â†’ atualizar import
- âœ… **VERIFICAÃ‡ÃƒO RIGOROSA**: Cada arquivo criado deve ser testado individualmente

---

## ğŸ“ ESTRUTURA FINAL COMPLETA

```
lib/features/task_screen/
â”œâ”€â”€ screens/
â”‚   â””â”€â”€ task_management_screen.dart
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ task_controller.dart
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ task_model.dart
â”‚   â”œâ”€â”€ list_model.dart
â”‚   â””â”€â”€ project_model.dart
â”œâ”€â”€ themes/
â”‚   â”œâ”€â”€ app_theme.dart
â”‚   â”œâ”€â”€ theme_provider.dart
â”‚   â””â”€â”€ theme_config.dart
â””â”€â”€ widgets/
    â”œâ”€â”€ sidebar/
    â”‚   â”œâ”€â”€ task_sidebar.dart
    â”‚   â”œâ”€â”€ sidebar_header.dart
    â”‚   â””â”€â”€ settings_sidebar_section.dart
    â”œâ”€â”€ projects/
    â”‚   â”œâ”€â”€ project_panel.dart
    â”‚   â”œâ”€â”€ project_item.dart
    â”‚   â”œâ”€â”€ project_form_dialog.dart
    â”‚   â”œâ”€â”€ project_delete_dialog.dart
    â”‚   â””â”€â”€ project_creation_dialog.dart
    â”œâ”€â”€ lists/
    â”‚   â”œâ”€â”€ list_panel.dart
    â”‚   â”œâ”€â”€ list_item.dart
    â”‚   â”œâ”€â”€ list_form_dialog.dart
    â”‚   â”œâ”€â”€ list_delete_dialog.dart
    â”‚   â””â”€â”€ list_context_menu.dart
    â”œâ”€â”€ tasks/
    â”‚   â”œâ”€â”€ task_panel.dart
    â”‚   â”œâ”€â”€ task_item/
    â”‚   â”‚   â”œâ”€â”€ task_item.dart
    â”‚   â”‚   â”œâ”€â”€ task_checkbox.dart
    â”‚   â”‚   â”œâ”€â”€ task_list_icon.dart
    â”‚   â”‚   â”œâ”€â”€ task_content.dart
    â”‚   â”‚   â”œâ”€â”€ task_controls.dart
    â”‚   â”‚   â”œâ”€â”€ task_border_helper.dart
    â”‚   â”‚   â””â”€â”€ constants.dart
    â”‚   â”œâ”€â”€ task_group/
    â”‚   â”‚   â”œâ”€â”€ task_group.dart
    â”‚   â”‚   â”œâ”€â”€ expansible_group.dart
    â”‚   â”‚   â””â”€â”€ simple_group.dart
    â”‚   â””â”€â”€ views/
    â”‚       â”œâ”€â”€ today_view.dart
    â”‚       â”œâ”€â”€ all_tasks_view.dart
    â”‚       â””â”€â”€ list_view.dart
    â”œâ”€â”€ detail/
    â”‚   â”œâ”€â”€ task_detail_panel.dart
    â”‚   â”œâ”€â”€ task_header.dart
    â”‚   â”œâ”€â”€ task_notes_section.dart
    â”‚   â”œâ”€â”€ task_diary_entry_form.dart
    â”‚   â”œâ”€â”€ task_diary_entry_item.dart
    â”‚   â”œâ”€â”€ task_diary_section.dart
    â”‚   â”œâ”€â”€ task_footer.dart
    â”‚   â””â”€â”€ task_subtasks_section.dart
    â”œâ”€â”€ common/
    â”‚   â”œâ”€â”€ app_state_handler.dart
    â”‚   â”œâ”€â”€ task_app_bar.dart
    â”‚   â””â”€â”€ sidebar_theme_toggle.dart
    â”œâ”€â”€ settings/
    â”‚   â”œâ”€â”€ settings_screen.dart
    â”‚   â”œâ”€â”€ sections/
    â”‚   â”‚   â”œâ”€â”€ theme_settings_section.dart
    â”‚   â”‚   â”œâ”€â”€ layout_settings_section.dart
    â”‚   â”‚   â”œâ”€â”€ card_settings_section.dart
    â”‚   â”‚   â”œâ”€â”€ background_settings_section.dart
    â”‚   â”‚   â”œâ”€â”€ sidebar_settings_section.dart
    â”‚   â”‚   â””â”€â”€ about_settings_section.dart
    â”‚   â”œâ”€â”€ widgets/
    â”‚   â”‚   â”œâ”€â”€ theme_selector.dart
    â”‚   â”‚   â”œâ”€â”€ layout_preview.dart
    â”‚   â”‚   â”œâ”€â”€ color_picker.dart
    â”‚   â”‚   â””â”€â”€ settings_group.dart
    â”‚   â”œâ”€â”€ layouts/
    â”‚   â”‚   â”œâ”€â”€ card_layouts.dart
    â”‚   â”‚   â”œâ”€â”€ background_layouts.dart
    â”‚   â”‚   â”œâ”€â”€ sidebar_layouts.dart
    â”‚   â”‚   â””â”€â”€ panel_layouts.dart
    â”‚   â”œâ”€â”€ presets/
    â”‚   â”‚   â”œâ”€â”€ samsung_theme_preset.dart
    â”‚   â”‚   â”œâ”€â”€ minimal_theme_preset.dart
    â”‚   â”‚   â””â”€â”€ classic_theme_preset.dart
    â”‚   â””â”€â”€ samsung_style/
    â”‚       â”œâ”€â”€ index.dart
    â”‚       â”œâ”€â”€ samsung_sidebar.dart
    â”‚       â”œâ”€â”€ samsung_sidebar_theme.dart
    â”‚       â”œâ”€â”€ samsung_list_item.dart
    â”‚       â””â”€â”€ samsung_section_header.dart
    â””â”€â”€ input/
        â”œâ”€â”€ quick_add_task_input.dart
        â””â”€â”€ mobile_quick_add_task_input.dart
```

---

## ğŸ“ ETAPAS DE IMPLEMENTAÃ‡ÃƒO (COM VERIFICAÃ‡ÃƒO RIGOROSA)

### ğŸ§¹ ETAPA 0: LIMPEZA OBRIGATÃ“RIA
**ANTES DE COMEÃ‡AR**: Verificar e remover qualquer temp_types existente
```bash
flutter analyze --no-pub  # DEVE retornar zero erros
```

### ğŸ”§ ETAPA 1: EXTRAIR SIDEBAR (_buildSidebar)
**ARQUIVO ORIGEM**: `task_management_screen.dart`
**MÃ‰TODO**: `_buildSidebar()` (linhas 416-470)
**DESTINO**: `lib/features/task_screen/widgets/sidebar/task_sidebar.dart`

**PROCESSO RIGOROSO**:
1. Criar arquivo `widgets/sidebar/task_sidebar.dart`
2. Copiar mÃ©todo `_buildSidebar()` completo
3. Criar classe `TaskSidebar` como StatelessWidget
4. **VERIFICAR IMPORTS**: Todos devem estar corretos
5. **`flutter analyze --no-pub`** â†’ DEVE ter zero erros
6. Substituir chamada no arquivo original
7. **`flutter analyze --no-pub`** â†’ DEVE ter zero erros
8. **TESTAR INTERFACE**: Deve permanecer idÃªntica

### ğŸ¨ ETAPA 2: EXTRAIR PRIMEIRA SEÃ‡ÃƒO SETTINGS
**ARQUIVO ORIGEM**: `settings_screen.dart` (1284 linhas)
**SEÃ‡ÃƒO**: Tema Global (linhas 72-169)
**DESTINO**: `lib/features/task_screen/widgets/settings/sections/theme_settings_section.dart`

**PROCESSO RIGOROSO**:
1. Criar arquivo da seÃ§Ã£o
2. Copiar mÃ©todos `_buildThemeSelector()` + `_buildThemeOption()`
3. Criar classe `ThemeSettingsSection`
4. **VERIFICAR IMPORTS**: Todos devem estar corretos
5. **`flutter analyze --no-pub`** â†’ DEVE ter zero erros
6. Substituir no settings_screen.dart
7. **`flutter analyze --no-pub`** â†’ DEVE ter zero erros
8. **TESTAR FUNCIONALIDADE**: SeleÃ§Ã£o de temas deve funcionar

### ğŸ¨ ETAPA 3: EXTRAIR SEGUNDA SEÃ‡ÃƒO SETTINGS
**SEÃ‡ÃƒO**: Layout dos PainÃ©is (linhas 170-260)
**DESTINO**: `lib/features/task_screen/widgets/settings/sections/layout_settings_section.dart`
**PROCESSO**: (Mesmo processo rigoroso da ETAPA 2)

### ğŸ”„ ETAPAS 4-8: CONTINUAR COM SETTINGS (UMA SEÃ‡ÃƒO POR VEZ)
Repetir processo rigoroso para as demais seÃ§Ãµes:
- **ETAPA 4**: Card Settings (linhas 261-350 + 706-971)
- **ETAPA 5**: Background Settings (linhas 545-705 + 972-1144)  
- **ETAPA 6**: Sidebar Settings (linhas 431-544 + 1145-1327)
- **ETAPA 7**: About Settings (linhas 351-430)
- **ETAPA 8**: Criar widgets reutilizÃ¡veis (SettingsGroup, ThemeSelector, etc.)

---

## ğŸ“‹ MAPEAMENTO DETALHADO DO CÃ“DIGO EXISTENTE

### ğŸ” SIDEBAR - TASK_MANAGEMENT_SCREEN.DART

**ARQUIVO**: `lib/features/task_management/screens/task_management_screen.dart`

#### **MÃ©todo Principal**:
- **`_buildSidebar()`** - Linhas 416-470 (54 linhas)
  - Container principal com tema Samsung Notes
  - Chama ProjectPanel e ListPanel diretamente
  - **DESTINO**: `lib/features/task_screen/widgets/sidebar/task_sidebar.dart`

#### **SeÃ§Ãµes do Sidebar**:
- **`_buildTodaySection()`** - Linhas 479-538 (59 linhas)
- **`_buildActivitiesSection()`** - Linhas 539-574 (35 linhas)  
- **`_buildLogsSection()`** - Linhas 575-629 (54 linhas)
- **`_buildSettingsSection()`** - Linhas 630-641 (11 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/sidebar/sidebar_header.dart`

#### **MÃ©todos Auxiliares**:
- **`_navigateToLogs()`** - Linhas 621-628
- **`_navigateToSettings()`** - Linhas 643-648
- **DESTINO**: `lib/features/task_screen/widgets/sidebar/settings_sidebar_section.dart`

### ğŸ” SETTINGS - SETTINGS_SCREEN.DART (1284 LINHAS)

**ARQUIVO**: `lib/features/task_management/screens/settings_screen.dart`

#### **SeÃ§Ãµes Mapeadas**:

**1. TEMA GLOBAL** (Linhas 72-169):
- `_buildThemeSelector()` - Linhas 72-105 (33 linhas)
- `_buildThemeOption()` - Linhas 106-169 (63 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/theme_settings_section.dart`

**2. LAYOUT PAINÃ‰IS** (Linhas 170-260):
- `_buildListStyleSelector()` - Linhas 170-195 (25 linhas)
- `_buildListStyleOption()` - Linhas 196-260 (64 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/layout_settings_section.dart`

**3. CARD STYLES** (Linhas 261-350):
- `_buildCardStyleSelector()` - Linhas 261-286 (25 linhas)
- `_buildCardStyleOption()` - Linhas 287-350 (63 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/card_settings_section.dart` (parte 1)

**4. SOBRE/ABOUT** (Linhas 351-430):
- `_buildAboutSection()` - Linhas 351-430 (79 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/about_settings_section.dart`

**5. SIDEBAR THEME** (Linhas 431-544):
- `_buildSidebarThemeSelector()` - Linhas 431-457 (26 linhas)
- `_buildSidebarThemeOption()` - Linhas 458-544 (86 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/sidebar_settings_section.dart` (parte 1)

**6. BACKGROUND COLOR** (Linhas 545-705):
- `_buildBackgroundColorSelector()` - Linhas 545-566 (21 linhas)
- `_buildBackgroundColorOption()` - Linhas 567-653 (86 linhas)
- `_buildBackgroundColorPreview()` - Linhas 654-705 (51 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/background_settings_section.dart` (parte 1)

**7. TODAY CARD STYLE** (Linhas 706-971):
- `_buildTodayCardStyleSelector()` - Linhas 706-727 (21 linhas)
- `_buildTodayCardStyleOption()` - Linhas 728-808 (80 linhas)
- `_buildTodayCardMiniPreview()` - Linhas 809-861 (52 linhas)
- `_buildTodayCardStylePreview()` - Linhas 862-889 (27 linhas)
- `_buildTodayCardFullPreview()` - Linhas 890-971 (81 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/card_settings_section.dart` (parte 2)

**8. NAVIGATION BAR COLOR** (Linhas 972-1144):
- `_buildNavigationBarColorSelector()` - Linhas 972-994 (22 linhas)
- `_buildNavigationBarColorOption()` - Linhas 995-1079 (84 linhas)
- `_buildNavigationBarColorPreview()` - Linhas 1080-1144 (64 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/background_settings_section.dart` (parte 2)

**9. SIDEBAR COLOR** (Linhas 1145-1327):
- `_buildSidebarColorSelector()` - Linhas 1145-1167 (22 linhas)
- `_buildSidebarColorOption()` - Linhas 1168-1251 (83 linhas)
- `_buildSidebarColorPreview()` - Linhas 1252-1327 (75 linhas)
- **DESTINO**: `lib/features/task_screen/widgets/settings/sections/sidebar_settings_section.dart` (parte 2)

---

## ğŸ¯ MODULARIZAÃ‡ÃƒO PLANEJADA DOS SETTINGS

### **1. theme_settings_section.dart** (~100 linhas):
```
ORIGEM: Linhas 72-169 do settings_screen.dart
CONTEÃšDO: SeleÃ§Ã£o de temas globais (Classic, Glass, Modern)
WIDGETS: ThemeSelector, ThemePreview
```

### **2. layout_settings_section.dart** (~90 linhas):
```
ORIGEM: Linhas 170-260 do settings_screen.dart
CONTEÃšDO: Estilos de painel (Compact vs Decorated)
WIDGETS: LayoutSelector, LayoutPreview
```

### **3. card_settings_section.dart** (~355 linhas):
```
ORIGEM: Linhas 261-350 + 706-971 do settings_screen.dart
CONTEÃšDO: Card styles (Dynamic vs Clean) + Today card styles (WithEmoji vs WithColorBorder)
WIDGETS: CardPreview, CardSelector
```

### **4. background_settings_section.dart** (~335 linhas):
```
ORIGEM: Linhas 545-705 + 972-1144 do settings_screen.dart
CONTEÃšDO: Background colors + Navigation bar colors
WIDGETS: ColorPreview, ColorSelector
```

### **5. sidebar_settings_section.dart** (~295 linhas):
```
ORIGEM: Linhas 431-544 + 1145-1327 do settings_screen.dart
CONTEÃšDO: Sidebar themes + Sidebar colors
WIDGETS: SidebarPreview, SidebarSelector
```

### **6. about_settings_section.dart** (~80 linhas):
```
ORIGEM: Linhas 351-430 do settings_screen.dart
CONTEÃšDO: InformaÃ§Ãµes do app, versÃ£o, crÃ©ditos
WIDGETS: InfoCard
```

---

## ğŸ§© WIDGETS REUTILIZÃVEIS A CRIAR

### **WIDGETS COMUNS**:
```
widgets/settings/widgets/
â”œâ”€â”€ settings_group.dart      # Container padrÃ£o (~50 linhas)
â”œâ”€â”€ theme_selector.dart      # Seletor genÃ©rico (~80 linhas)
â”œâ”€â”€ layout_preview.dart      # Preview padrÃ£o (~60 linhas)
â”œâ”€â”€ color_picker.dart        # Seletor de cores (~70 linhas)
â”œâ”€â”€ card_preview.dart        # Preview de cards (~100 linhas)
â”œâ”€â”€ sidebar_preview.dart     # Preview da sidebar (~90 linhas)
â””â”€â”€ info_card.dart          # Card de informaÃ§Ãµes (~40 linhas)
```

---

## ğŸ”„ PROCESSO DETALHADO PARA CADA ETAPA (ZERO TOLERÃ‚NCIA A BUGS)

### **TEMPLATE DE EXTRAÃ‡ÃƒO RIGOROSA**:

**1. Verificar Estado INICIAL**:
```bash
flutter analyze --no-pub  # DEVE ter zero erros
```

**2. Criar Arquivo Destino**:
```dart
// Exemplo: lib/features/task_screen/widgets/sidebar/task_sidebar.dart
import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import '../../controllers/task_controller.dart';

class TaskSidebar extends StatelessWidget {
  const TaskSidebar({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Consumer<TaskController>(
      builder: (context, controller, child) {
        // COLAR AQUI o cÃ³digo do mÃ©todo _buildSidebar()
        return _buildSidebar(context, controller);
      },
    );
  }
  
  // MÃ©todo extraÃ­do do arquivo original
  Widget _buildSidebar(BuildContext context, TaskController controller) {
    // ... cÃ³digo completo do mÃ©todo original
  }
}
```

**3. Verificar IMPORTS e SINTAXE**:
```bash
flutter analyze --no-pub  # DEVE ter zero erros para o arquivo criado
```

**4. Atualizar Arquivo Original**:
```dart
// Substituir chamada do mÃ©todo
// ANTES:
_buildSidebar(context, controller)

// DEPOIS:
TaskSidebar()
```

**5. Adicionar Import no Arquivo Original**:
```dart
import '../widgets/sidebar/task_sidebar.dart';
```

**6. Verificar Estado FINAL**:
```bash
flutter analyze --no-pub  # DEVE ter zero erros em todo o projeto
```

**7. Testar Funcionalidade OBRIGATORIAMENTE**:
- âœ… Verificar se interface continua igual
- âœ… Testar todas as funcionalidades da seÃ§Ã£o extraÃ­da
- âœ… Confirmar navegaÃ§Ã£o funciona
- âœ… Verificar se Provider/Context funcionam

**8. Se QUALQUER ERRO**:
- ğŸš¨ **PARAR imediatamente**
- ğŸ” Analisar e corrigir erro
- ğŸ”„ SÃ³ continuar quando `flutter analyze --no-pub` = zero erros

---

## ğŸ“Š ARQUIVOS EXISTENTES - MAPEAMENTO COMPLETO

### **ESTRUTURA ATUAL vs NOVA ESTRUTURA**:

#### **THEMES** (Copiar para `/themes/`):
- **ORIGEM**: `lib/features/task_management/themes/app_theme.dart` (238 linhas) - Enums de configuraÃ§Ã£o
- **DESTINO**: `lib/features/task_screen/themes/app_theme.dart`
- **ORIGEM**: `lib/features/task_management/themes/theme_provider.dart` (383 linhas) - Provider principal
- **DESTINO**: `lib/features/task_screen/themes/theme_provider.dart`
- **ORIGEM**: `lib/features/task_management/themes/theme_config.dart` (121 linhas) - ConfiguraÃ§Ãµes especÃ­ficas
- **DESTINO**: `lib/features/task_screen/themes/theme_config.dart`

#### **MODELS** (Copiar para `/models/`):
- **ORIGEM**: `lib/features/task_management/models/task_model.dart`
- **DESTINO**: `lib/features/task_screen/models/task_model.dart`
- **ORIGEM**: `lib/features/task_management/models/list_model.dart`
- **DESTINO**: `lib/features/task_screen/models/list_model.dart`
- **ORIGEM**: `lib/features/task_management/models/project_model.dart`
- **DESTINO**: `lib/features/task_screen/models/project_model.dart`

#### **CONTROLLERS** (Copiar para `/controllers/`):
- **ORIGEM**: `lib/features/task_management/controllers/task_controller.dart`
- **DESTINO**: `lib/features/task_screen/controllers/task_controller.dart`

#### **PROJECTS** (Copiar para `/widgets/projects/`):
- **ORIGEM**: `lib/features/task_management/widgets/projects/project_panel.dart`
- **DESTINO**: `lib/features/task_screen/widgets/projects/project_panel.dart`
- **ORIGEM**: `lib/features/task_management/widgets/projects/project_item.dart`
- **DESTINO**: `lib/features/task_screen/widgets/projects/project_item.dart`
- **ORIGEM**: `lib/features/task_management/widgets/projects/project_form_dialog.dart`
- **DESTINO**: `lib/features/task_screen/widgets/projects/project_form_dialog.dart`
- **ORIGEM**: `lib/features/task_management/widgets/projects/project_delete_dialog.dart`
- **DESTINO**: `lib/features/task_screen/widgets/projects/project_delete_dialog.dart`
- **ORIGEM**: `lib/features/task_management/widgets/projects/project_creation_dialog.dart`
- **DESTINO**: `lib/features/task_screen/widgets/projects/project_creation_dialog.dart`

#### **LISTS** (Copiar para `/widgets/lists/`):
- **ORIGEM**: `lib/features/task_management/widgets/lists/list_panel.dart`
- **DESTINO**: `lib/features/task_screen/widgets/lists/list_panel.dart`
- **ORIGEM**: `lib/features/task_management/widgets/lists/list_item.dart`
- **DESTINO**: `lib/features/task_screen/widgets/lists/list_item.dart`
- **ORIGEM**: `lib/features/task_management/widgets/lists/list_form_dialog.dart`
- **DESTINO**: `lib/features/task_screen/widgets/lists/list_form_dialog.dart`
- **ORIGEM**: `lib/features/task_management/widgets/lists/list_delete_dialog.dart`
- **DESTINO**: `lib/features/task_screen/widgets/lists/list_delete_dialog.dart`
- **ORIGEM**: `lib/features/task_management/widgets/lists/list_context_menu.dart`
- **DESTINO**: `lib/features/task_screen/widgets/lists/list_context_menu.dart`

#### **TASK COMPONENTS** (Copiar e Refatorar para `/widgets/task/`):
- **ORIGEM**: `lib/features/task_management/widgets/task/task_panel.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_panel.dart`

#### **TASK ITEMS** (Refatorar today_* para task_*):
- **ORIGEM**: `lib/features/task_management/widgets/today/today_task_item.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_item/task_item.dart`
- **ORIGEM**: `lib/features/task_management/widgets/today/today_task_checkbox.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_item/task_checkbox.dart`
- **ORIGEM**: `lib/features/task_management/widgets/today/today_task_list_icon.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_item/task_list_icon.dart`
- **ORIGEM**: `lib/features/task_management/widgets/today/today_task_content.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_item/task_content.dart`
- **ORIGEM**: `lib/features/task_management/widgets/today/today_task_controls.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_item/task_controls.dart`
- **ORIGEM**: `lib/features/task_management/widgets/today/today_task_border_helper.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_item/task_border_helper.dart`
- **ORIGEM**: `lib/features/task_management/widgets/today/today_task_item_constants.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_item/constants.dart`

#### **TASK GROUPS**:
- **ORIGEM**: `lib/features/task_management/widgets/today/expansible_task_group.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/task_group/expansible_group.dart`

#### **TASK VIEWS**:
- **ORIGEM**: `lib/features/task_management/widgets/today/today_panel.dart`
- **DESTINO**: `lib/features/task_screen/widgets/task/views/today_view.dart`

#### **DETAIL COMPONENTS** (Copiar para `/widgets/detail/`):
- **ORIGEM**: `lib/features/task_management/widgets/task/task_detail_panel/task_detail_panel.dart`
- **DESTINO**: `lib/features/task_screen/widgets/detail/task_detail_panel.dart`
- **ORIGEM**: `lib/features/task_management/widgets/task/task_detail_panel/widgets/task_header.dart`
- **DESTINO**: `lib/features/task_screen/widgets/detail/task_header.dart`
- **ORIGEM**: `lib/features/task_management/widgets/task/task_detail_panel/widgets/task_notes_section.dart`
- **DESTINO**: `lib/features/task_screen/widgets/detail/task_notes_section.dart`
- **ORIGEM**: `lib/features/task_management/widgets/task/task_detail_panel/widgets/task_diary_entry_form.dart`
- **DESTINO**: `lib/features/task_screen/widgets/detail/task_diary_entry_form.dart`
- **ORIGEM**: `lib/features/task_management/widgets/task/task_detail_panel/widgets/task_diary_entry_item.dart`
- **DESTINO**: `lib/features/task_screen/widgets/detail/task_diary_entry_item.dart`
- **ORIGEM**: `lib/features/task_management/widgets/task/task_detail_panel/widgets/task_diary_section.dart`
- **DESTINO**: `lib/features/task_screen/widgets/detail/task_diary_section.dart`
- **ORIGEM**: `lib/features/task_management/widgets/task/task_detail_panel/widgets/task_footer.dart`
- **DESTINO**: `lib/features/task_screen/widgets/detail/task_footer.dart`
- **ORIGEM**: `lib/features/task_management/widgets/task/task_detail_panel/widgets/task_subtasks_section.dart`
- **DESTINO**: `lib/features/task_screen/widgets/detail/task_subtasks_section.dart`

#### **COMMON COMPONENTS** (Copiar para `/widgets/common/`):
- **ORIGEM**: `lib/features/task_management/widgets/common/app_state_handler.dart`
- **DESTINO**: `lib/features/task_screen/widgets/common/app_state_handler.dart`
- **ORIGEM**: `lib/features/task_management/widgets/common/task_app_bar.dart`
- **DESTINO**: `lib/features/task_screen/widgets/common/task_app_bar.dart`
- **ORIGEM**: `lib/features/task_management/widgets/common/sidebar_theme_toggle.dart`
- **DESTINO**: `lib/features/task_screen/widgets/common/sidebar_theme_toggle.dart`

#### **INPUT COMPONENTS** (Copiar para `/widgets/input/`):
- **ORIGEM**: `lib/features/task_management/widgets/task/quick_add_task_input.dart`
- **DESTINO**: `lib/features/task_screen/widgets/input/quick_add_task_input.dart`
- **ORIGEM**: `lib/features/task_management/widgets/task/mobile_quick_add_task_input.dart`
- **DESTINO**: `lib/features/task_screen/widgets/input/mobile_quick_add_task_input.dart`

#### **SAMSUNG STYLE** (Copiar para `/widgets/settings/samsung_style/`):
- **ORIGEM**: `lib/features/task_management/widgets/layouts/samsung_style/index.dart`
- **DESTINO**: `lib/features/task_screen/widgets/settings/samsung_style/index.dart`
- **ORIGEM**: `lib/features/task_management/widgets/layouts/samsung_style/samsung_sidebar.dart`
- **DESTINO**: `lib/features/task_screen/widgets/settings/samsung_style/samsung_sidebar.dart`
- **ORIGEM**: `lib/features/task_management/widgets/layouts/samsung_style/samsung_sidebar_theme.dart`
- **DESTINO**: `lib/features/task_screen/widgets/settings/samsung_style/samsung_sidebar_theme.dart`
- **ORIGEM**: `lib/features/task_management/widgets/layouts/samsung_style/samsung_list_item.dart`
- **DESTINO**: `lib/features/task_screen/widgets/settings/samsung_style/samsung_list_item.dart`
- **ORIGEM**: `lib/features/task_management/widgets/layouts/samsung_style/samsung_section_header.dart`
- **DESTINO**: `lib/features/task_screen/widgets/settings/samsung_style/samsung_section_header.dart`

---

## ğŸ¯ RESULTADO ESPERADO

### **SIDEBAR (ETAPA 1)**:
- âœ… `task_sidebar.dart` - Widget principal (~80 linhas)
- âœ… Funcionalidade idÃªntica ao mÃ©todo original
- âœ… Zero bugs introduzidos

### **SETTINGS (ETAPAS 2-8)**:
- âœ… Settings principal - ~100 linhas (era 1284 linhas)
- âœ… 6 seÃ§Ãµes modularizadas (~200 linhas cada)
- âœ… 7 widgets reutilizÃ¡veis
- âœ… Funcionalidade idÃªntica ao arquivo original
- âœ… Zero bugs introduzidos

### **BENEFÃCIOS FINAIS**:
- âœ… CÃ³digo mais organizado e manutenÃ­vel
- âœ… Componentes reutilizÃ¡veis
- âœ… FÃ¡cil navegaÃ§Ã£o nos arquivos
- âœ… Estrutura escalÃ¡vel para futuras funcionalidades
- âœ… Testes unitÃ¡rios possÃ­veis por componente
- âœ… Zero funcionalidades perdidas ou quebradas

---

## ğŸš¨ PONTOS CRÃTICOS DE ATENÃ‡ÃƒO

### **IMPORTS RELATIVOS**:
Usar imports relativos dentro da mesma feature:
```dart
// âœ… BOM - Import relativo
import '../controllers/task_controller.dart';
import '../widgets/projects/project_panel.dart';

// âœ… BOM - Import absoluto para outras features
import '../../../log_screen/controllers/log_controller.dart';
```

### **PROVIDERS E CONTEXTO**:
Manter acesso ao Provider do TaskController:
```dart
Consumer<TaskController>(
  builder: (context, controller, child) {
    // Usar controller normalmente
  },
);
```

### **MÃ‰TODOS DE NAVEGAÃ‡ÃƒO**:
Manter navegaÃ§Ã£o para outras telas:
```dart
// Manter mÃ©todos como _navigateToLogs() e _navigateToSettings()
Navigator.push(context, MaterialPageRoute(builder: (context) => LogScreen()));
```

### **PRESERVAR FUNCIONALIDADES**:
- âœ… Contadores de tarefas
- âœ… Contadores de logs
- âœ… Toggles de visualizaÃ§Ã£o
- âœ… NavegaÃ§Ã£o entre telas
- âœ… Temas e estilos visuais
- âœ… PersistÃªncia de configuraÃ§Ãµes

---

## ğŸ“ CHECKLIST RIGOROSO PARA CADA ETAPA

### **ANTES DE COMEÃ‡AR QUALQUER ETAPA**:
- [ ] `flutter analyze --no-pub` retorna zero erros
- [ ] Backup do cÃ³digo atual (commit git)
- [ ] Identificar exatamente o mÃ©todo/seÃ§Ã£o a extrair
- [ ] Confirmar linhas exatas do cÃ³digo fonte

### **DURANTE A EXTRAÃ‡ÃƒO** (OBRIGATÃ“RIO):
- [ ] Criar arquivo destino na estrutura correta
- [ ] Copiar cÃ³digo exato do mÃ©todo (sem modificaÃ§Ãµes)
- [ ] Criar classe wrapper apropriada
- [ ] **VERIFICAR TODOS OS IMPORTS** (critical!)
- [ ] `flutter analyze --no-pub` no arquivo novo = zero erros
- [ ] Substituir chamada no arquivo original
- [ ] Adicionar import do novo arquivo
- [ ] **VERIFICAR IMPORTS RELATIVOS** estÃ£o corretos

### **APÃ“S CADA EXTRAÃ‡ÃƒO** (OBRIGATÃ“RIO):
- [ ] `flutter analyze --no-pub` em todo projeto = zero erros
- [ ] **TESTAR FUNCIONALIDADE** especÃ­fica extraÃ­da
- [ ] **VERIFICAR INTERFACE** permanece idÃªntica
- [ ] **CONFIRMAR NAVEGAÃ‡ÃƒO** funciona (se aplicÃ¡vel)
- [ ] **TESTAR PROVIDER/CONTEXT** funcionam
- [ ] **VERIFICAR TEMAS** aplicam corretamente
- [ ] Salvar progresso (commit git)

### **EM CASO DE QUALQUER ERRO** (PARADA OBRIGATÃ“RIA):
- [ ] ğŸš¨ **PARAR IMEDIATAMENTE**
- [ ] Analisar mensagens de erro do `flutter analyze`
- [ ] Corrigir imports/sintaxe
- [ ] Verificar Provider/Context
- [ ] Verificar paths dos arquivos
- [ ] **SÃ“ CONTINUAR** quando `flutter analyze --no-pub` = zero erros
- [ ] **TESTAR NOVAMENTE** antes de prÃ³xima etapa

### **VERIFICAÃ‡ÃƒO DE IMPORTS** (CRÃTICO):
- [ ] Imports relativos dentro da mesma feature: `../controllers/`, `../models/`
- [ ] Imports absolutos para outras features: `../../../log_screen/`
- [ ] Packages sempre absolutos: `package:flutter/material.dart`
- [ ] Verificar se todos os imports estÃ£o funcionando
- [ ] NÃ£o deixar imports nÃ£o utilizados

---

## ğŸ¯ LEMA DA REFATORAÃ‡ÃƒO

> **"UMA MUDANÃ‡A POR VEZ, SEMPRE FUNCIONANDO, ZERO BUGS"**

**SUCESSO = CÃ“DIGO MAIS ORGANIZADO + FUNCIONALIDADE INALTERADA + ZERO PROBLEMAS**
